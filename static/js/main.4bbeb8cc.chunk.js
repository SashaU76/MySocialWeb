(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var s=n(0),a=(n(77),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,108)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),r(e),i(e)}))}),r=n(12),i=n(4),o=n.n(i),c=n(11),u=n(31),l=n(2),d=n(41),j=n.n(d).a.create({withCredentials:!0,headers:{"API-KEY":"cd349944-1a1f-484a-81a7-9d5dd0866219"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),b=function(e,t){return j.get("users?page=".concat(e,"&count=").concat(t),{}).then((function(e){return e.data}))},p=function(e){return j.post("follow/".concat(e),{},{})},h=function(e){return j.delete("follow/".concat(e),{})},f=function(e){return O.getProfile(e)},O={getProfile:function(e){return j.get("profile/".concat(e))},getStatus:function(e){return j.get("profile/status/".concat(e))},updateStatus:function(e){return j.put("profile/status",{status:e})},setAboutData:function(e){return j.put("profile",e)},savePhoto:function(e){var t=new FormData;return t.append("myFile",e),j.put("profile/photo",t,{headers:{"Content-Type":"multypart/form-data"}})}},g=function(){return j.get("auth/me")},m=function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return j.post("auth/login",{email:e,password:t,rememberMe:n,captcha:s})},x=function(){return j.delete("auth/login")},v=function(){return j.get("security/get-captcha-url")},_=function(e,t){return j.post("dialogs/".concat(t,"/messages"),{message:e})},y=function(e){return j.get("dialogs/".concat(e,"/messages"))},w=function(e){return j.put("dialogs/".concat(e))},A=function(){return j.get("dialogs")},S={dialogs:[{name:"Gri",id:"1"},{name:"Ma",id:"2"},{name:"Sonya",id:"3"},{name:"Dasha",id:"4"}],messages:[{message:"hello, how are you",id:"1"},{message:"bla bla bla bla",id:"2"},{message:"i hate this world soo much!",id:"3"}]};var k=function(){return function(e){A().then((function(t){e({type:"SETDIALOGS",data:t.data})}))}},N=function(e){return function(){var t=Object(c.a)(o.a.mark((function t(n){var s,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=0,t.next=4,_(e,s);case 4:if(0!==t.sent.data.resultCode){t.next=10;break}return t.next=8,y(s);case 8:a=t.sent,n({type:"NEWMESSAGE",message:a});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C={posts:[{message:"Helloy idiotos!",id:1,likes:3},{message:"Why live is soo easy? 0_o",id:2,likes:100}],profile:null,status:""};function P(e){return{type:"SETSTATUS",status:e}}var E=function(e){return function(t){f(e).then((function(e){t({type:"SETUSERPROFILE",profile:e.data})}))}},M=function(e){return function(t){O.getStatus(e).then((function(e){t(P(e.data))}))}};var D=function(e,t,n){return function(){var s=Object(c.a)(o.a.mark((function s(a){var r,i;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r=Object(l.a)({FullName:t},e),s.next=4,O.setAboutData(r);case 4:0===(i=s.sent).data.resultCode&&a(E(n)),0!==i.data.resultCode&&(o=i.data.messages,alert(o));case 7:case"end":return s.stop()}var o}),s)})));return function(e){return s.apply(this,arguments)}}()},R={users:[{photoURL:"https://homm3sod.ru/upload/iblock/2d1/Hero_Alamar.png",name:"Robert",location:{city:"Dubna",country:"Russia"},status:"hate",friends:!1,id:1},{photoURL:"https://homm3sod.ru/upload/iblock/013/Hero_Grindan.png",name:"Grindan",location:{city:"Skovde",country:"Sweden"},status:"Jesus loves you",friends:!0,id:2},{photoURL:"https://homm3sod.ru/upload/iblock/e78/Hero_Labetha.png",name:"Dasha",location:{city:"Moscow",country:"Russia"},status:"im always learning",friends:!0,id:3}],pageSize:5,totalUsersCount:54,currentPage:1,isFetching:!1,inProgress:[]};function U(e){return{type:"CURRENTPAGE",currentPage:e}}function T(e){return{type:"ISFETCHINGTOGGLE",isFetching:e}}function F(e,t){return{type:"INPROGRESS",inProgress:e,userId:t}}var L={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null};function I(e,t,n,s){return{type:"SETUSERDATA",data:{userId:e,email:t,login:n,isAuth:s}}}function G(e){return{type:"GETCAPTCHA",payload:{captchaUrl:e}}}var H=function(){return function(e){return g().then((function(t){if(0===t.data.resultCode){var n=t.data.data,s=n.id,a=n.email,r=n.login;e(I(s,a,r,!0))}}))}};var B=function(){return function(){var e=Object(c.a)(o.a.mark((function e(t){var n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,v();case 3:n=e.sent,s=n.data.url,t(G(s));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},z=n(65),J={initialized:!1};var V=Object(r.c)({ContentPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDPOST":var n={message:t.message,id:5,likes:0},s=Object(l.a)({},e);return s.posts=Object(u.a)(e.posts),s.posts.push(n),s;case"SETUSERPROFILE":return Object(l.a)(Object(l.a)({},e),{},{profile:t.profile});case"SETSTATUS":return Object(l.a)(Object(l.a)({},e),{},{status:t.status});case"SAVEPHOTO":return Object(l.a)(Object(l.a)({},e),{},{profile:Object(l.a)(Object(l.a)({},e.profile),{},{photos:t.photos})});default:return e}},PostsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEWMESSAGE":var n={message:t.message,id:6};return Object(l.a)(Object(l.a)({},e),{},{messages:[].concat(Object(u.a)(e.messages),[n])});case"SETDIALOGS":var s={dialogs:t.dialogs,id:t.id};return Object(l.a)(Object(l.a)({},e),{},{dialogs:[].concat(Object(u.a)(e.dialogs),[s])});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDFRIEND":return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(l.a)(Object(l.a)({},e),{},{followed:!0}):e}))});case"REMOVEFRIEND":return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(e){return t.id===e.id?Object(l.a)(Object(l.a)({},e),{},{followed:!1}):e}))});case"SETUSERS":return Object(l.a)(Object(l.a)({},e),{},{users:Object(u.a)(t.users)});case"CURRENTPAGE":return Object(l.a)(Object(l.a)({},e),{},{currentPage:t.currentPage});case"TOTALUSERSCOUNT":return Object(l.a)(Object(l.a)({},e),{},{totalUsersCount:t.totalCount});case"ISFETCHINGTOGGLE":return Object(l.a)(Object(l.a)({},e),{},{isFetching:t.isFetching});case"INPROGRESS":return Object(l.a)(Object(l.a)({},e),{},{inProgress:t.inProgress?[].concat(Object(u.a)(e.inProgress),[t.userId]):[e.inProgress.filter((function(e){return e!==t.userId}))]});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETUSERDATA":return Object(l.a)(Object(l.a)({},e),t.data);case"GETCAPTCHA":return Object(l.a)(Object(l.a)({},e),t.payload);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETINITIALIZED":return Object(l.a)(Object(l.a)({},e),{},{initialized:!0});default:return e}}}),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.d,q=Object(r.e)(V,W(Object(r.a)(z.a)));window.store=q;var Z=q,Y=n(1),K=n.n(Y),Q=n(37),X=n.n(Q),$=n(20),ee=n(21),te=n(23),ne=n(22),se=n(6),ae=n(5),re=(n(99),n(67)),ie=n.n(re);function oe(){return Object(s.jsx)("div",{className:ie.a.Lefter,children:Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:Object(s.jsx)(ae.b,{to:"/profile",children:"My Page"})}),Object(s.jsx)("li",{children:Object(s.jsx)(ae.b,{to:"/messages",children:"Messages"})}),Object(s.jsx)("li",{children:Object(s.jsx)(ae.b,{to:"/settings",children:"Settings"})}),Object(s.jsx)("li",{children:Object(s.jsx)(ae.b,{to:"/find",children:"Find User"})})]})})}var ce=n(17),ue=n.n(ce);function le(e){var t=K.a.createRef(),n=K.a.createRef();return Object(s.jsxs)("div",{className:ue.a.Registration,children:[Object(s.jsx)("div",{children:"Registration"}),Object(s.jsx)("hr",{}),Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(s.jsx)("div",{className:ue.a.Reg,children:"Name:"}),Object(s.jsx)("input",{type:"text",ref:t}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{className:ue.a.Reg,children:"Email:"}),Object(s.jsx)("input",{type:"text",ref:n}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:function(){var s,a;s=t.current.value,a=n.current.value,d.post("https://react-quiz-c5f6b.firebaseio.com/users.json",{name:s,email:a}).then((function(s){t.current.value="",n.current.value="",console.log(s),e.registr()})).catch((function(e){console.log(e)}))},children:"Ok"})]})]})}var de=n(68),je=n.n(de);var be=function(){return Object(s.jsx)("div",{className:je.a.Content2,children:"\u0422\u0443\u0442 \u0431\u0443\u0434\u0435\u0442 \u0441\u0442\u0435\u043d\u0430"})},pe=n(7),he=n(24),fe=n.n(he),Oe=n(19),ge=n(34),me=n(44),xe=n.n(me),ve=function(e){return Object(s.jsx)("div",{className:xe.a.center,children:Object(s.jsx)("div",{className:xe.a.Loader,children:Object(s.jsxs)("div",{className:xe.a.Loader2,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{}),Object(s.jsx)("div",{}),Object(s.jsx)("div",{})]})]})})})},_e=n(9),ye=n.n(_e),we=n(39),Ae=n.n(we);function Se(e){var t=Object(Y.useState)(!1),n=Object(ge.a)(t,2),a=n[0],r=n[1];if(!e.props.profile)return Object(s.jsx)(ve,{});return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:ye.a.MyName,children:e.props.profile.fullName}),a?Object(s.jsx)(Pe,Object(l.a)(Object(l.a)({},e),{},{deactivateEditMode:function(){r(!1)},setAboutData:e.setAboutData})):Object(s.jsx)(ke,Object(l.a)(Object(l.a)({},e),{},{isOwner:e.isOwner,activateEditMode:function(){r(!0)}}))]})}var ke=function(e){return Object(s.jsxs)("div",{className:ye.a.About,children:[Object(s.jsx)("div",{className:ye.a.info,children:"Looking for a job: "}),Object(s.jsx)("div",{className:ye.a.answer,children:e.props.profile.lookingForAJob?"yes":"no"}),Object(s.jsx)("div",{className:ye.a.info,children:"My hard skills: "}),Object(s.jsx)("div",{className:ye.a.answer,children:e.props.profile.lookingForAJobDescription}),Object(s.jsx)("div",{className:ye.a.info,children:"About me:"}),Object(s.jsx)("div",{className:ye.a.answer,children:e.props.profile.aboutMe}),e.isOwner&&Object(s.jsx)("div",{children:Object(s.jsx)(ae.b,{to:"/settings",children:Object(s.jsx)("button",{className:ye.a.EditBTN,children:"Edit"})})}),Object(s.jsx)("div",{className:ye.a.contacts,children:Object.keys(e.props.profile.contacts).map((function(t){return Object(s.jsx)(Ne,{title:t,name:"classes."+t,value:e.props.profile.contacts[t]},t)}))})]})},Ne=function(e){var t=e.title,n=e.value;e.name;return Object(s.jsx)("ul",{className:ye.a.fss,children:Object(s.jsx)("a",{href:n,children:Object(s.jsx)("li",{className:Ae()(Object(Oe.a)({},ye.a.vk,"vk"===t),Object(Oe.a)({},ye.a.facebook,"facebook"===t),Object(Oe.a)({},ye.a.website,"website"===t),Object(Oe.a)({},ye.a.twitter,"twitter"===t),Object(Oe.a)({},ye.a.instagram,"instagram"===t),Object(Oe.a)({},ye.a.youtube,"youtube"===t),Object(Oe.a)({},ye.a.github,"github"===t),Object(Oe.a)({},ye.a.mainLink,"mainLink"===t),ye.a.socialMedia)})})})},Ce=n(28),Pe=function(e){var t=Object(se.g)();return Object(s.jsxs)("div",{className:fe.a.MainAbout,children:[Object(s.jsx)("div",{className:fe.a.heading,children:"Here you can edit information about yourself "}),Object(s.jsx)(Ce.c,{initialValues:{lookingForAJob:!!e.props.profile.lookingForAJob&&e.props.profile.lookingForAJob,LookingForAJobDescription:e.props.profile.lookingForAJobDescription?e.props.profile.lookingForAJobDescription:"",AboutMe:e.props.profile.aboutMe?e.props.profile.aboutMe:""},onSubmit:function(){var n=Object(c.a)(o.a.mark((function n(s){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.setAboutData(s,e.props.profile.fullName,e.props.profile.userId),t.push("/profile");case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),children:function(t){var n=t.values;return Object(s.jsx)(Ce.b,{children:Object(s.jsxs)("div",{className:fe.a.About,children:[Object(s.jsx)("label",{className:fe.a.info,children:"Looking for a job"}),Object(s.jsxs)("div",{children:[Object(s.jsx)(Ce.a,{type:"checkbox",name:"lookingForAJob"}),"".concat(n.lookingForAJob?"yes":"no")]}),Object(s.jsx)("label",{className:fe.a.info,htmlFor:"LookingForAJobDescription",children:"My hard skills:"}),Object(s.jsx)(Ce.a,{id:"LookingForAJobDescription",component:"textarea",name:"LookingForAJobDescription",placeholder:"HTML SCC JS React Redux"}),Object(s.jsx)("label",{className:fe.a.info,htmlFor:"AboutMe",children:"About me: "}),Object(s.jsx)(Ce.a,{id:"AboutMe",component:"textarea",name:"AboutMe",placeholder:"describe yourself"}),Object(s.jsxs)("div",{className:fe.a.advertisement,children:[Object(s.jsx)("img",{className:fe.a.advertisement,src:"https://sun9-50.userapi.com/impf/c836137/v836137892/50859/gSlB71Q9BVE.jpg?size=1280x960&quality=96&proxy=1&sign=a16c1b01aadf358376f83137b2c8ec1e&type=album"}),"place for advertisement"]}),Object(s.jsx)("div",{children:Object.keys(e.props.profile.contacts).map((function(t){return Object(s.jsx)("div",{children:Object(s.jsxs)("label",{className:fe.a.About,htmlFor:"Contacts",children:[t,":",Object(s.jsx)(Ce.a,{id:t,name:"contacts.".concat(t),value:e.props.profile.contacts[t],placeholder:t})]})},t)}))}),Object(s.jsx)("div",{}),Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{type:"submit",children:"Submit"}),Object(s.jsx)(ae.b,{to:"./profile/",children:Object(s.jsx)("button",{children:"cancel"})})]})]})})}})]})},Ee=n(71),Me=n.n(Ee);var De=Object(pe.b)((function(e){return{state:e.ContentPage}}),{setAboutData:D})((function(e){return null===e.state.profile?Object(s.jsx)(se.a,{to:"/profile"}):Object(s.jsx)("div",{className:Me.a.Settings,children:Object(s.jsx)(Pe,{props:e.state,isOwner:e.isOwner,setAboutData:e.setAboutData})})})),Re=function(e){return{isAuth:e.auth.isAuth}},Ue=function(e){var t=function(t){Object(te.a)(a,t);var n=Object(ne.a)(a);function a(){return Object($.a)(this,a),n.apply(this,arguments)}return Object(ee.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(s.jsx)(e,Object(l.a)({},this.props)):Object(s.jsx)(se.a,{to:"/login"})}}]),a}(K.a.Component);return Object(pe.b)(Re)(t)},Te=n(45),Fe=n.n(Te),Le=n(32),Ie=n(52),Ge=n.n(Ie),He=function(e){return Object(s.jsxs)("div",{className:Ge.a.formControl+" "+Ge.a.error,children:[Object(s.jsx)("div",{children:Object(s.jsx)("textarea",Object(l.a)({},e.input))}),e.meta.error&&e.meta.error&&Object(s.jsx)("span",{children:"some error"})]})};var Be=function(e){return Object(s.jsx)(Le.b,{onSubmit:function(t){e.sendMessage(t),console.log(t)},children:function(e){var t=e.handleSubmit,n=e.invalid;return Object(s.jsxs)("form",{onSubmit:t,children:[Object(s.jsx)(Le.a,{component:He,type:"textarea",placeholder:"enter message",name:"newMessageBody"}),Object(s.jsx)("button",{type:"submit",disabled:n,children:"\ud83d\udc37"})]})}})},ze=function(e){function t(e){return Object(s.jsx)("div",{children:Object(s.jsx)(ae.b,{to:"/messages/"+e.id,children:e.name})})}var n=e.dialogs.map((function(e){return Object(s.jsx)(t,{name:e.name,id:e.id},e.index)})),a=function(e){return Object(s.jsx)("div",{children:e.m})},r=e.message.map((function(e){return Object(s.jsx)(a,{m:e.message},e.id)}));return Object(s.jsxs)("div",{className:Fe.a.Messages,children:[Object(s.jsx)("div",{className:Fe.a.dialog,children:n}),Object(s.jsxs)("div",{className:Fe.a.messageWindow,children:[Object(s.jsx)("div",{children:r}),Object(s.jsx)(Be,{sendMessage:function(t){e.sendMessageContainer(t)}})]})]})},Je=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){var e;Object($.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).sendMessageContainer=function(t){e.props.newMessageDialogs(t.newMessageBody),t.newMessageBody=""},e}return Object(ee.a)(n,[{key:"componentDidMount",value:function(){this.props.getDialogs()}},{key:"render",value:function(){return Object(s.jsx)(ze,{dialogs:this.props.dialogs,message:this.props.message,sendMessageContainer:this.props.sendMessageContainer})}}]),n}(Y.Component),Ve=Object(r.d)(Object(pe.b)((function(e){return{dialogs:e.PostsPage.dialogs,message:e.PostsPage.messages}}),(function(e){return{newMessageDialogs:N,getDialogs:k,getStatus:M}})),Ue)(Je),We=n(26),qe=n.n(We),Ze=n(72),Ye=n.n(Ze);var Ke=function(e){for(var t=[],n=1;n<=6;n++)t.push(n);return Object(s.jsxs)("div",{className:qe.a.FindUsers,children:[Object(s.jsx)("div",{className:qe.a.page,children:Object(s.jsx)(Ye.a,{activeClass:qe.a.active,activePage:e.props.currentPage,itemsCountPerPage:10,totalItemsCount:e.props.totalUsersCount,pageRangeDisplayed:5,onChange:e.onPageChanged})}),e.props.users.map((function(t){return Object(s.jsxs)("div",{className:qe.a.User,children:[Object(s.jsxs)("span",{children:[Object(s.jsx)("div",{className:qe.a.photo,children:Object(s.jsx)(ae.b,{to:"./profile/"+t.id,children:Object(s.jsx)("img",{className:qe.a.img,src:null!=t.photoURL?t.photoURL:"https://image.pngaaa.com/430/263430-small.png",alt:""})})}),Object(s.jsx)("div",{children:!1===t.followed?Object(s.jsx)("button",{disabled:e.props.inProgress.some((function(e){return e===t.id})),onClick:function(){e.props.tofriend(t.id)},children:"addFriend"}):Object(s.jsx)("button",{disabled:e.props.inProgress.some((function(e){return e===t.id})),onClick:function(){e.props.tounfriend(t.id)},children:"UnFriend"})})]}),Object(s.jsxs)("div",{className:qe.a.info,children:[Object(s.jsx)("div",{className:qe.a.name,children:t.name}),Object(s.jsx)("span",{children:Object(s.jsxs)("div",{className:qe.a.status,children:['"',t.status,'"']})}),Object(s.jsx)("button",{onClick:function(){e.props.startNewDialog(t.id)},children:"Start dialog"})]})]},t.id)}))]})},Qe=function(e){return e.usersPage.users},Xe=function(e){return e.usersPage.pageSize},$e=function(e){return e.usersPage.totalUsersCount},et=function(e){return e.usersPage.currentPage},tt=function(e){return e.usersPage.isFetching},nt=function(e){return e.usersPage.inProgress};var st=Object(r.d)(Object(pe.b)((function(e){return{users:Qe(e),pageSize:Xe(e),totalUsersCount:$e(e),currentPage:et(e),isFetching:tt(e),inProgress:nt(e)}}),{tounfriend:function(e){return function(){var t=Object(c.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(F(!0,e)),t.next=3,h(e);case 3:0===t.sent.data.resultCode&&n({type:"REMOVEFRIEND",id:e}),n(F(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},tofriend:function(e){return function(){var t=Object(c.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(F(!0,e)),t.next=3,p(e);case 3:0===t.sent.data.resultCode&&n({type:"ADDFRIEND",id:e}),n(F(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},startNewDialog:function(e){return function(){var t=Object(c.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:w(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:U,isFetchingCount:T,toggleInProgress:F,getUsersCreator:function(e,t){return function(){var n=Object(c.a)(o.a.mark((function n(s){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(T(!0)),s(U(e)),n.next=4,b(e,t);case 4:a=n.sent,s(T(!1)),s({type:"SETUSERS",users:a.items}),s({type:"TOTALUSERSCOUNT",totalCount:a.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}))((function(e){return 3===e.users.length&&e.getUsersCreator(e.currentPage,e.pageSize),Object(s.jsx)(s.Fragment,{children:!1===e.isFetching?Object(s.jsx)(Ke,{props:e,onPageChanged:function(t){e.getUsersCreator(t,e.pageSize)}}):Object(s.jsx)(ve,{})})})),at=n(48),rt=n.n(at),it=n(73),ot=n.n(it),ct=function(e){var t=Object(Y.useState)(!1),n=Object(ge.a)(t,2),a=n[0],r=n[1],i=Object(Y.useState)(e.status),o=Object(ge.a)(i,2),c=o[0],u=o[1];Object(Y.useEffect)((function(){u(e.status)}),[e.status]);var l=function(){r(!0)};return Object(s.jsxs)("div",{children:[!a&&Object(s.jsx)("div",{className:ot.a.status,children:e.status?Object(s.jsx)("div",{onClick:l,children:e.status}):Object(s.jsx)("div",{onClick:l,children:"no status"})}),a&&Object(s.jsx)("div",{children:Object(s.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},onBlur:function(){r(!1),e.updateStatus(c)},autoFocus:!0,value:c})})]})},ut=n(53),lt=n.n(ut);function dt(e){return Object(s.jsxs)("div",{className:lt.a.Pic,children:[null!=e.props.profile?Object(s.jsx)("img",{src:null!=e.props.profile.photos.large?e.props.profile.photos.large:"https://sun9-33.userapi.com/impf/xZea1cGfLOj-MhChgkIKsgDSZGEuGSOVHs1WHA/YtDlw7A5LTo.jpg?size=2476x1212&quality=96&proxy=1&sign=9da40de598b9f92db3f300c6d278e04d",alt:""}):Object(s.jsx)("img",{src:"https://sun9-33.userapi.com/impf/xZea1cGfLOj-MhChgkIKsgDSZGEuGSOVHs1WHA/YtDlw7A5LTo.jpg?size=2476x1212&quality=96&proxy=1&sign=9da40de598b9f92db3f300c6d278e04d",alt:""}),e.isOwner&&Object(s.jsxs)("span",{children:[Object(s.jsx)("input",{className:lt.a.hidden,name:"file",id:"file",type:"file"}),Object(s.jsx)("label",{for:"file",onChange:function(t){t.target.files.length&&e.setUserPhoto(t.target.files[0])}})]}),Object(s.jsx)(ct,{status:e.props.status,updateStatus:e.updateStatus})]})}var jt=n(54),bt=n.n(jt),pt=n(55),ht=n.n(pt);function ft(e){return Object(s.jsxs)(K.a.Fragment,{children:[Object(s.jsx)("div",{className:ht.a.message,children:e.message}),Object(s.jsxs)("div",{className:ht.a.likes,children:[Object(s.jsx)("img",{src:"https://img.icons8.com/doodle/48/000000/facebook-like.png",alt:"Foo eating a sandwich."}),e.likes]})]})}var Ot=function(e){return Object(s.jsx)(Le.b,{onSubmit:function(t){e.newPost(t),console.log(t)},children:function(e){var t=e.handleSubmit;return Object(s.jsxs)("form",{onSubmit:t,children:[Object(s.jsx)(Le.a,{component:"textarea",type:"textarea",placeholder:"enter message",name:"newMessageBody"}),Object(s.jsx)("button",{type:"submit",children:"\ud83d\udc37"})]})}})},gt=Object(pe.b)((function(e){return{posts:e.ContentPage.posts}}),(function(e){return{newPostContainer:function(t){var n=t.newMessageBody;e(function(e){return{type:"ADDPOST",message:e}}(n)),t.newMessageBody=""}}}))((function(e){var t=e.posts.map((function(e){return Object(s.jsx)(ft,{message:e.message,id:e.id,likes:e.likes},e.id)}));return Object(s.jsxs)(K.a.Fragment,{children:[Object(s.jsx)("div",{className:bt.a.Posts,children:Object(s.jsx)(Ot,{newPost:function(t){e.newPostContainer(t)}})}),Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{className:bt.a.Images,src:"https://homm3sod.ru/upload/iblock/5d4/Hero_Ufretin.png",alt:"Foo eating a sandwich."})," Nikname"]}),Object(s.jsx)("div",{children:t})]})})),mt=n(74),xt=n.n(mt);function vt(){return Object(s.jsx)("div",{className:xt.a.TextContent,children:" This is your wall"})}var _t=function(e){return Object(s.jsx)("div",{className:rt.a.Content2,children:Object(s.jsxs)(K.a.Fragment,{children:[Object(s.jsx)(Se,{props:e.state,isOwner:e.isOwner,setAboutData:e.setAboutData}),Object(s.jsx)(dt,{props:e.state,getStatus:e.getStatus,setUserPhoto:e.setUserPhoto,isOwner:e.isOwner,updateStatus:e.updateStatus}),Object(s.jsx)(vt,{}),Object(s.jsx)(gt,{})]})})},yt=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){return Object($.a)(this,n),t.apply(this,arguments)}return Object(ee.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authUserId),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsx)(_t,Object(l.a)(Object(l.a)({},this.props),{},{getStatus:this.props.getStatus,isOwner:!this.props.match.params.userId,updateStatus:this.props.updateStatus,setUserPhoto:this.props.setUserPhoto,setAboutData:this.props.setAboutData}))})}}]),n}(K.a.Component),wt=Object(r.d)(Object(pe.b)((function(e){return{state:e.ContentPage,authUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:E,getStatus:M,updateStatus:function(e){return function(t){O.updateStatus(e).then((function(n){0===n.data.resultCode&&t(P(e))}))}},setUserPhoto:function(e){return function(){var t=Object(c.a)(o.a.mark((function t(n){var s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.savePhoto(e);case 2:0===(s=t.sent).data.resultCode&&n({type:"SAVEPHOTO",photos:s.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setAboutData:D}),se.h,Ue)(yt),At=n(46),St=n.n(At);function kt(e){return Object(s.jsxs)("div",{className:St.a.Header,children:[Object(s.jsx)("img",{src:"https://s.clipartkey.com/mpngs/s/213-2139319_vigorous-piglets-and-finishers-feed-pig-icon.png",alt:""}),Object(s.jsx)("p",{children:"MySocialWeb"}),Object(s.jsx)("div",{className:St.a.loginBlock,children:e.isAuth?Object(s.jsx)("div",{className:St.a.loginBlock,onClick:function(){e.logout()},children:Object(s.jsx)("span",{tooltip:"click to logout",flow:"left",children:e.login})}):Object(s.jsx)(ae.b,{to:"/login",children:"Login"})})]})}var Nt=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){return Object($.a)(this,n),t.apply(this,arguments)}return Object(ee.a)(n,[{key:"render",value:function(){return Object(s.jsx)(kt,Object(l.a)({},this.props))}}]),n}(K.a.Component),Ct=Object(pe.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(c.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:0===e.sent.data.resultCode&&t(I(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Nt),Pt=function(e){return Object(s.jsx)("div",{children:Object(s.jsx)(Ce.c,{initialValues:{email:"",password:"",captcha:"",rememberMe:!1},validate:function(t){var n={};return t.password||(n.password="Required"),e.state.captchaUrl&!t.captcha&&(n.captcha="Required"),t.password.length>21&&(n.password="Must be 20 characters or less"),t.email.length>21&&(n.email="Must be 20 characters or less"),t.email||(n.email="Required"),/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(t.email)||(n.email="Invalid email address"),n},onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},children:function(t){var n=t.values,a=t.errors,r=t.touched,i=t.handleChange,o=t.handleBlur,c=t.handleSubmit;t.isSubmitting;return Object(s.jsxs)("form",{onSubmit:c,children:[Object(s.jsxs)("div",{className:ue.a.Reg,children:["Email:",Object(s.jsx)("input",{type:"email",name:"email",placeholder:"enter you email",onChange:i,onBlur:o,value:n.email}),Object(s.jsx)("span",{className:ue.a.errormessage,children:a.email&&r.email&&a.email})]}),Object(s.jsxs)("div",{className:ue.a.Reg2,children:["Password:",Object(s.jsx)("input",{type:"password",name:"password",placeholder:"enter you password",onChange:i,onBlur:o,value:n.password}),Object(s.jsx)("span",{className:ue.a.errormessage,children:a.password&&r.password&&a.password})]}),Object(s.jsxs)("div",{className:ue.a.checkbox,children:["Remember me",Object(s.jsx)("input",{type:"checkbox",name:"rememberMe",onChange:i})]}),e.state.captchaUrl?Object(s.jsxs)("div",{className:ue.a.Reg3,children:[Object(s.jsx)("img",{src:e.state.captchaUrl}),Object(s.jsx)("input",{type:"text",name:"captcha",placeholder:"enter captcha symbols",onChange:i,onBlur:o,value:n.captcha})]}):null,Object(s.jsx)("button",{type:"submit",children:"\ud83d\udc37"})]})}})})},Et=Object(pe.b)((function(e){return{state:e.auth}}),{login:function(e,t,n,s){return function(){var a=Object(c.a)(o.a.mark((function a(r){var i;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m(e,t,n,s);case 2:0===(i=a.sent).data.resultCode&&r(H()),0!==i.data.resultCode&&(10===i.data.resultCode&&r(B()),o=i.data.messages,alert(o));case 6:case"end":return a.stop()}var o}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return!0===e.state.isAuth?Object(s.jsx)(se.a,{to:"/profile"}):Object(s.jsxs)("div",{className:ue.a.Registration,children:[Object(s.jsx)("h1",{children:"Log in"}),Object(s.jsx)(Pt,{state:e.state,login:e.login})]})})),Mt=function(e){Object(te.a)(n,e);var t=Object(ne.a)(n);function n(){var e;Object($.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).catchAllUnhandledErrors=function(e,t){alert(e),console.error(t)},e}return Object(ee.a)(n,[{key:"componentDidMount",value:function(){this.props.initialize(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("div",{className:"Header",children:Object(s.jsx)(Ct,{})}),Object(s.jsx)("div",{className:"Lefter",children:Object(s.jsx)(oe,{})}),Object(s.jsxs)(se.d,{children:[Object(s.jsx)(se.b,{exact:!0,path:"/MySocialWeb",render:function(){return Object(s.jsx)(se.a,{to:"/profile"})}}),Object(s.jsx)(se.b,{path:"/signin",children:Object(s.jsx)(le,{registr:this.registr})}),Object(s.jsx)(se.b,{path:"/login",children:Object(s.jsx)(Et,{})}),Object(s.jsx)(se.b,{path:"/profile/:userId?",children:Object(s.jsx)(wt,{})}),Object(s.jsx)(se.b,{path:"/wall",children:Object(s.jsx)(be,{})}),Object(s.jsx)(se.b,{path:"/messages",children:Object(s.jsx)(Ve,{})}),Object(s.jsx)(se.b,{path:"/settings",children:Object(s.jsx)(De,{})}),Object(s.jsxs)(se.b,{path:"/find",children:[Object(s.jsx)(st,{})," "]}),Object(s.jsxs)(se.b,{path:"*",children:[Object(s.jsx)("div",{children:"404 not found"})," "]})]})]}):Object(s.jsx)(ve,{})}}]),n}(K.a.Component),Dt=Object(r.d)(se.h,Object(pe.b)((function(e){return{initialized:e.app.initialized}}),{initialize:function(){return function(e){e(H()).then((function(){e({type:"SETINITIALIZED"})}))}}}))(Mt),Rt=function(e){return Object(s.jsx)(ae.a,{basename:"/MySocialWeb",children:Object(s.jsx)(pe.a,{store:Z,children:Object(s.jsx)(Dt,{})})})};X.a.render(Object(s.jsx)(Rt,{}),document.getElementById("root")),a()},17:function(e,t,n){e.exports={Registration:"Registration_Registration__AFPaL",Reg:"Registration_Reg__29xqw",Reg2:"Registration_Reg2__2iSNQ",Reg3:"Registration_Reg3__1jSNK",error:"Registration_error__255mg",success:"Registration_success__2buZG",primary:"Registration_primary__2IL_M",checkbox:"Registration_checkbox__2DlKr",errormessage:"Registration_errormessage__3SVWG"}},24:function(e,t,n){e.exports={About:"AboutDataForm_About__3AW0t",info:"AboutDataForm_info__2ml-9",MainAbout:"AboutDataForm_MainAbout__1lP-K",advertisement:"AboutDataForm_advertisement__2m93T",heading:"AboutDataForm_heading__3Q5nR"}},26:function(e,t,n){e.exports={FindUsers:"findUsers_FindUsers__3dtDG",User:"findUsers_User__2Vmvi",photo:"findUsers_photo__1T_YU",img:"findUsers_img__1Q6V7",status:"findUsers_status__3UWG4",info:"findUsers_info__1OBAx",name:"findUsers_name__3oc5G",page:"findUsers_page__eDpSx",selectedPage:"findUsers_selectedPage__3cgcP",active:"findUsers_active__uwG6G"}},44:function(e,t,n){e.exports={center:"Loader_center__1zykS",Loader2:"Loader_Loader2__rWpDV","ldio-byiquow0r9p-1":"Loader_ldio-byiquow0r9p-1__3M0YO","ldio-byiquow0r9p-2":"Loader_ldio-byiquow0r9p-2__2X4y2","ldio-byiquow0r9p-3":"Loader_ldio-byiquow0r9p-3__1xFYx",Loader:"Loader_Loader__32Th_"}},45:function(e,t,n){e.exports={Messages:"Messages_Messages__3GEJe",dialog:"Messages_dialog__3hM8Q",active:"Messages_active__2z9bd",messageWindow:"Messages_messageWindow__PYCuv"}},46:function(e,t,n){e.exports={Header:"Header_Header__2hIci",loginBlock:"Header_loginBlock__3xoMw","tooltips-horz":"Header_tooltips-horz__3bJmt","tooltips-vert":"Header_tooltips-vert__34QaD"}},48:function(e,t,n){e.exports={Content2:"Content_Content2__9MEJS"}},52:function(e,t,n){e.exports={error:"FormsControls_error__3kTm0"}},53:function(e,t,n){e.exports={Pic:"Pic_Pic__2qGER",hidden:"Pic_hidden__33MgI"}},54:function(e,t,n){e.exports={Posts:"Posts_Posts__2Of1d",Images:"Posts_Images__3ThLz"}},55:function(e,t,n){e.exports={message:"Post_message__3ETw_",likes:"Post_likes__xlCCN"}},67:function(e,t,n){e.exports={Lefter:"Lefter_Lefter__1GlzH"}},68:function(e,t,n){e.exports={Wall:"Wall_Wall__3VVXf"}},71:function(e,t,n){},73:function(e,t,n){e.exports={status:"Status_status__1TVbK"}},74:function(e,t,n){e.exports={TextContent:"TextContent_TextContent__MYSpN"}},77:function(e,t,n){},9:function(e,t,n){e.exports={About:"About_About__1d8A3",info:"About_info__3iofd",MyName:"About_MyName__rB3Zy",infoContacts:"About_infoContacts__2bblA",EditBTN:"About_EditBTN__1kWVI",answer:"About_answer__2rino",foo:"About_foo__3-xka",fss:"About_fss__lEJ9M",contacts:"About_contacts__2lnkT",socialMedia:"About_socialMedia__1d8xY",vk:"About_vk__1_xVO",facebook:"About_facebook__1I6nV",website:"About_website__2kotn",twitter:"About_twitter__LBZUY",instagram:"About_instagram__1YROA",youtube:"About_youtube__1g5ZC",github:"About_github__2ItN_",mainLink:"About_mainLink__1kZOT"}},99:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.4bbeb8cc.chunk.js.map